<!-- Template de Indicadores Operacionais Anal√≠ticos -->
<div id="indicadores-screen" class="w-full h-full overflow-y-auto p-3 md:p-4 flex flex-col gap-4" style="display: none;">
    
    <!-- Header dos Indicadores -->
    <header class="flex items-center justify-between mb-1 flex-shrink-0">
        <div class="flex items-center gap-2 md:gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-sky-400">
                <path d="M3 3v18h18"></path>
                <path d="M18 17V9"></path>
                <path d="M13 17V5"></path>
                <path d="M8 17v-3"></path>
            </svg>
            <div>
                <h1 class="text-lg md:text-2xl font-bold text-white">Indicadores Operacionais</h1>
                <p class="text-xs text-slate-400 mt-0.5">An√°lise em tempo real</p>
            </div>
        </div>
        <div class="text-xs text-slate-400">
            <span id="indicadores-last-update">Carregando...</span>
        </div>
    </header>

    <!-- Grid Principal de Indicadores -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-3 md:gap-4 flex-shrink-0">
        
        <!-- Card: Total Processos Abertos -->
        <div class="glass-card">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Processos Abertos</p>
                    <p class="text-4xl font-bold text-white" id="ind-processos-abertos">-</p>
                </div>
                <div class="w-12 h-12 rounded-xl bg-blue-500/20 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-blue-400">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Card: Total Embarcados -->
        <div class="glass-card">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Embarcados</p>
                    <p class="text-4xl font-bold text-white" id="ind-embarcados">-</p>
                </div>
                <div class="w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-purple-400">
                        <path d="M2 21a8 8 0 0 1 13.292-6"></path>
                        <circle cx="10" cy="8" r="5"></circle>
                        <path d="m16 19 2 2 4-4"></path>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Card: Total Chegaram -->
        <div class="glass-card">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Chegaram</p>
                    <p class="text-4xl font-bold text-white" id="ind-chegaram">-</p>
                </div>
                <div class="w-12 h-12 rounded-xl bg-green-500/20 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-green-400">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                        <polyline points="22 4 12 14.01 9 11.01"></polyline>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Card: Total em An√°lise -->
        <div class="glass-card">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Em An√°lise Fiscal</p>
                    <p class="text-4xl font-bold text-white" id="ind-em-analise">-</p>
                </div>
                <div class="w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-amber-400">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                </div>
            </div>
            <div class="mt-3 pt-3 border-t border-slate-700/50">
                <p class="text-xs text-slate-400">Tempo m√©dio</p>
                <p class="text-lg font-semibold text-amber-400" id="ind-tempo-medio">- dias</p>
            </div>
        </div>

        <!-- Card: Chegando Este M√™s -->
        <div class="glass-card">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Chegando Este M√™s</p>
                    <p class="text-4xl font-bold text-white" id="ind-chegando-mes">-</p>
                </div>
                <div class="w-12 h-12 rounded-xl bg-cyan-500/20 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-cyan-400">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Card: A Faturar -->
        <div class="glass-card">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">A Faturar</p>
                    <p class="text-4xl font-bold text-white" id="ind-a-faturar">-</p>
                </div>
                <div class="w-12 h-12 rounded-xl bg-emerald-500/20 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-emerald-400">
                        <rect x="2" y="5" width="20" height="14" rx="2"></rect>
                        <line x1="2" y1="10" x2="22" y2="10"></line>
                    </svg>
                </div>
            </div>
        </div>

    </div>

    <!-- Grid: Funil de Status Timeline (Segunda Linha) -->
    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2 md:gap-3 flex-shrink-0 mt-3 md:mt-4">
        
        <!-- 1. Processos Abertos -->
        <div class="glass-card p-4">
            <div class="flex flex-col items-center text-center">
                <div class="w-10 h-10 rounded-lg bg-slate-500/20 flex items-center justify-center mb-3">
                    <span class="text-2xl font-bold text-slate-300">1</span>
                </div>
                <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Processos Abertos</p>
                <p class="text-2xl font-bold text-white" id="funil-processos-abertos">-</p>
            </div>
        </div>

        <!-- 2. Aguardando Embarque -->
        <div class="glass-card p-4">
            <div class="flex flex-col items-center text-center">
                <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center mb-3">
                    <span class="text-2xl font-bold text-blue-400">2</span>
                </div>
                <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Agd. Embarque</p>
                <p class="text-2xl font-bold text-white" id="funil-agd-embarque">-</p>
            </div>
        </div>

        <!-- 3. Aguardando Chegada -->
        <div class="glass-card p-4">
            <div class="flex flex-col items-center text-center">
                <div class="w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center mb-3">
                    <span class="text-2xl font-bold text-cyan-400">3</span>
                </div>
                <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Agd. Chegada</p>
                <p class="text-2xl font-bold text-white" id="funil-agd-chegada">-</p>
            </div>
        </div>

        <!-- 4. Aguardando Registro -->
        <div class="glass-card p-4">
            <div class="flex flex-col items-center text-center">
                <div class="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center mb-3">
                    <span class="text-2xl font-bold text-purple-400">4</span>
                </div>
                <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Agd. Registro</p>
                <p class="text-2xl font-bold text-white" id="funil-agd-registro">-</p>
            </div>
        </div>

        <!-- 5. Aguardando Desembara√ßo -->
        <div class="glass-card p-4">
            <div class="flex flex-col items-center text-center">
                <div class="w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center mb-3">
                    <span class="text-2xl font-bold text-amber-400">5</span>
                </div>
                <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Agd. Desembara√ßo</p>
                <p class="text-2xl font-bold text-white" id="funil-agd-desembaraco">-</p>
            </div>
        </div>

        <!-- 6. Aguardando Fechamento -->
        <div class="glass-card p-4">
            <div class="flex flex-col items-center text-center">
                <div class="w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center mb-3">
                    <span class="text-2xl font-bold text-green-400">6</span>
                </div>
                <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">Agd. Fechamento</p>
                <p class="text-2xl font-bold text-white" id="funil-agd-fechamento">-</p>
            </div>
        </div>

        <!-- N/A (N√£o Aplic√°vel) -->
        <div class="glass-card p-4">
            <div class="flex flex-col items-center text-center">
                <div class="w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center mb-3">
                    <span class="text-xl font-bold text-red-400">N/A</span>
                </div>
                <p class="text-xs uppercase tracking-wider text-slate-400 mb-2">N√£o Aplic√°vel</p>
                <p class="text-2xl font-bold text-white" id="funil-na">-</p>
            </div>
        </div>

    </div>

    <!-- Se√ß√£o: Detalhes dos Processos em An√°lise -->
    <div class="glass-card mt-0">
        <div class="flex items-center gap-2 md:gap-3 mb-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-sky-400">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="3" y1="9" x2="21" y2="9"></line>
                <line x1="9" y1="21" x2="9" y2="9"></line>
            </svg>
            <h2 class="text-lg md:text-base font-bold text-white">An√°lise Fiscal</h2>
        </div>
        <!-- Grid de cards em galeria (responsivo) -->
        <div id="ind-detalhes-analise" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 md:gap-3">
            <p class="text-xs text-slate-400 col-span-full">Nenhum processo em an√°lise</p>
        </div>
    </div>

    <!-- Grid: Metas e Performance Anual -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-4 mt-0">
        
        <!-- Card: Registros e Meta Anual -->
        <div class="glass-card">
            <div class="flex items-center gap-2 md:gap-3 mb-3">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-sky-400">
                    <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                </svg>
                <h2 class="text-lg md:text-base font-bold text-white">Meta Anual</h2>
            </div>
            
            <div class="grid grid-cols-2 gap-2 md:gap-3">
                <div>
                    <p class="text-xs uppercase tracking-wider text-slate-400 mb-1">Registrados</p>
                    <p class="text-2xl md:text-3xl font-bold text-white" id="ind-registrados-ano">-</p>
                </div>
                <div>
                    <p class="text-xs uppercase tracking-wider text-slate-400 mb-1">Meta</p>
                    <p class="text-2xl md:text-3xl font-bold text-white" id="ind-meta-anual">-</p>
                </div>
            </div>

            <div class="mt-3 pt-3 border-t border-slate-700/50">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-xs text-slate-400">Progresso</span>
                    <span class="text-xs font-semibold text-white" id="ind-percentual-meta">0%</span>
                </div>
                <div class="w-full bg-slate-700/30 rounded-full h-2 overflow-hidden">
                    <div id="ind-progress-bar" class="h-full rounded-full transition-all duration-500 bg-gradient-to-r from-sky-500 to-blue-600" style="width: 0%"></div>
                </div>
                <div class="flex justify-between items-center mt-2">
                    <div>
                        <p class="text-xs text-slate-400">Faltam</p>
                        <p class="text-sm md:text-base font-semibold text-red-400" id="ind-faltam-meta">-</p>
                    </div>
                    <div class="text-right">
                        <p class="text-xs text-slate-400">M√©dia</p>
                        <p class="text-sm md:text-base font-semibold text-sky-400" id="ind-media-mensal">-</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card: Proje√ß√£o -->
        <div class="glass-card">
            <div class="flex items-center gap-2 md:gap-3 mb-3">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-sky-400">
                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                </svg>
                <h2 class="text-lg md:text-base font-bold text-white">Proje√ß√£o Fim do Ano</h2>
            </div>
            
            <div class="flex flex-col items-center justify-center min-h-[140px] md:min-h-[160px]">
                <p class="text-4xl md:text-5xl font-bold text-sky-400" id="ind-projecao-fim-ano">-</p>
                <p class="text-xs text-slate-400 mt-1">Processos projetados</p>
                <div class="mt-3 p-2 md:p-3 rounded-lg bg-slate-800/50 border border-slate-700/50 w-full text-center">
                    <p class="text-xs text-slate-400 mb-0.5">Status</p>
                    <p class="text-xs md:text-sm font-semibold" id="ind-status-meta-text">-</p>
                </div>
            </div>
        </div>

    </div>

</div>

<style>
    .glass-card {
        background: rgba(10, 10, 10, 0.55);
        backdrop-filter: blur(16px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 1rem;
        padding: 1rem;
        box-shadow: 0 18px 45px rgba(0, 0, 0, 0.45);
    }
    
    @media (max-width: 768px) {
        .glass-card {
            padding: 0.875rem;
        }
    }
    
    /* Cards de processos em an√°lise - Layout em galeria */
    .processo-analise-item {
        padding: 1.5rem;
        border-radius: 1rem;
        background: rgba(15, 23, 42, 0.6);
        border: 2px solid;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    
    /* Hover effect */
    .processo-analise-item:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    }
    
    /* Cores por canal */
    .processo-analise-item.verde {
        border-color: #22c55e;
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.7), rgba(34, 197, 94, 0.1));
    }
    
    .processo-analise-item.amarelo {
        border-color: #facc15;
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.7), rgba(250, 204, 21, 0.15));
    }
    
    .processo-analise-item.vermelho {
        border-color: #ef4444;
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.7), rgba(239, 68, 68, 0.2));
        animation: pulse-critical 2s ease-in-out infinite;
    }
    
    /* Anima√ß√£o de pulso para canais VERMELHO (cr√≠tico) */
    @keyframes pulse-critical {
        0%, 100% {
            box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
        }
        50% {
            box-shadow: 0 0 0 15px rgba(239, 68, 68, 0);
        }
    }
    
    /* Badge de alerta para vermelho */
    .processo-analise-item.vermelho::before {
        content: '‚ö†Ô∏è CR√çTICO';
        position: absolute;
        top: 0.75rem;
        right: 0.75rem;
        background: rgba(239, 68, 68, 0.9);
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 0.375rem;
        font-size: 0.65rem;
        font-weight: 700;
        letter-spacing: 0.05em;
        animation: blink-alert 1.5s ease-in-out infinite;
    }
    
    @keyframes blink-alert {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
    }
    
    /* Badge de aten√ß√£o para amarelo */
    .processo-analise-item.amarelo::before {
        content: '‚ö° ATEN√á√ÉO';
        position: absolute;
        top: 0.75rem;
        right: 0.75rem;
        background: rgba(250, 204, 21, 0.9);
        color: #1e293b;
        padding: 0.25rem 0.5rem;
        border-radius: 0.375rem;
        font-size: 0.65rem;
        font-weight: 700;
        letter-spacing: 0.05em;
    }
    
    .processo-analise-item .nome {
        font-weight: 700;
        color: #ffffff;
        font-size: 1.05rem;
        line-height: 1.3;
        margin-top: 0.5rem;
        padding-right: 5rem; /* Espa√ßo para o badge */
    }
    
    .processo-analise-item .codigo {
        font-size: 0.8rem;
        color: #94a3b8;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
    
    .processo-analise-item .codigo::before {
        content: 'üìã';
        font-size: 1rem;
    }
    
    .processo-analise-item .dias {
        font-size: 0.9rem;
        color: #cbd5e1;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 0.25rem;
    }
    
    .processo-analise-item .dias::before {
        content: '‚è±Ô∏è';
        font-size: 1rem;
    }
    
    .processo-analise-item.vermelho .dias {
        color: #fca5a5;
        font-weight: 700;
    }
    
    .processo-analise-item.amarelo .dias {
        color: #fde047;
        font-weight: 600;
    }
    
    .badge-canal {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.4rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-top: 0.5rem;
        width: fit-content;
    }
    
    .badge-canal.verde {
        background-color: rgba(34, 197, 94, 0.3);
        color: #22c55e;
        border: 1px solid #22c55e;
    }
    
    .badge-canal.amarelo {
        background-color: rgba(250, 204, 21, 0.3);
        color: #facc15;
        border: 1px solid #facc15;
    }
    
    .badge-canal.vermelho {
        background-color: rgba(239, 68, 68, 0.3);
        color: #ef4444;
        border: 1px solid #ef4444;
    }
</style>

<!-- JavaScript ser√° inclu√≠do no arquivo principal para evitar conflitos de tags <script> aninhadas -->
